{% load i18n %}

{% if not local_obj.config_data %}
    <div class="row">
        <article class="col-sm-12">
            <div class="alert alert-info fade in">
                <button class="close" data-dismiss="alert">×</button>
                <i class="fa-fw fa fa-error"></i>
                <strong>提示</strong> 请先维护本机IP ！
            </div>
        </article>
    </div>
{% endif %}

<div class="widget-box">
    <div class="widget-body">
        <div class="widget-main">

            <dl class="dl-horizontal" style="margin-bottom: 0;">
                <dt>本机IP</dt>
                <dd>
                    <span id="id_config_data_static">{{ local_obj.config_data|default_if_none:'' }}</span>
                    <input id="id_config_data_input" name="config_data_input" value="{{ local_obj.config_data|default_if_none:'' }}" maxlength="20" type="text" class="display-none">
                    {% if local_obj.config_data %}
                        <a class="btn btn-primary btn-minier bottem margin-left-35" href="Javascript: setLocalIP('set')" id="id_config_data_button">{% trans "修改" %}</a>
                    {% else %}
                        <a class="btn btn-primary btn-minier bottem margin-left-35" href="Javascript: setLocalIP('set')" id="id_config_data_button">{% trans "设置" %}</a>
                    {% endif %}
                    <a class="btn btn-primary btn-minier bottem display-none" href="Javascript: setLocalIP('local_ip')" id="id_config_data_save">{% trans "保存" %}</a>
                    <a class="btn btn-white btn-minier bottem display-none" href="Javascript: setLocalIP('cancel')" id="id_config_data_cancel">{% trans "取消" %}</a>
                </dd>
            </dl>
        </div>
    </div>
</div>

<form id="id_form" action="" method="POST">
    {% csrf_token %}
    <input type="hidden" name="id" id="id" />
    <input type="hidden" name="status" id="status" />
    <input type="hidden" name="local_ip" id="local_ip"/>
    <input type="hidden" name="ids" id="ids" />
</form>
<table id="ajax-table" class="table table-striped table-bordered table-hover">
    <thead>
    <tr>
        <th width="4%">{% trans "序号" %}</th>
        <th>{% trans "服务器名称" %}</th>
        <th>{% trans "IP地址" %}</th>
        <th>{% trans "是否主服务器" %}</th>
        <th>{% trans "状态" %}</th>
        <th>{% trans "操作" %}</th>
    </tr>
    </thead>
    <tbody>
    </tbody>
</table>